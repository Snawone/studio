{
  "entities": {
    "Onu": {
      "title": "Onu",
      "type": "object",
      "description": "Represents an Optical Network Unit (ONU) and its location within the shelving system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the ONU entity, typically the serial number."
        },
        "serialNumber": {
          "type": "string",
          "description": "The serial number of the ONU."
        },
        "shelfLocation": {
          "type": "string",
          "description": "The location of the ONU on the shelf (e.g., A1-2, B3-5)."
        },
        "addedDate": {
            "type": "string",
            "format": "date-time",
            "description": "The date the ONU was added to the inventory."
        },
        "removedDate": {
            "type": "string",
            "format": "date-time",
            "description": "The date the ONU was removed from the inventory."
        },
        "status": {
            "type": "string",
            "enum": ["active", "removed"],
            "description": "The current status of the ONU."
        },
        "inSearch": {
            "type": "boolean",
            "description": "Whether the ONU is in the user's search list."
        },
        "history": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "action": { "type": "string", "enum": ["added", "removed", "restored", "created"]},
                    "date": { "type": "string", "format": "date-time"},
                    "source": {"type": "string", "enum": ["file", "manual"]}
                }
            }
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this ONU entry."
        }
      },
      "required": [
        "id",
        "serialNumber",
        "shelfLocation",
        "status",
        "inSearch",
        "userId"
      ]
    }
  },
  "auth": {
    "providers": [
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "users/{userId}/onus/{onuId}",
        "definition": {
          "entityName": "Onu",
          "schema": {
            "$ref": "#/entities/Onu"
          },
          "description": "Stores ONU data for a specific user.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            },
            {
              "name": "onuId",
              "description": "The unique identifier of the ONU."
            }
          ]
        }
      }
    ]
  }
}
